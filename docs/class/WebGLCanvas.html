<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>Tamarind Documentation</title>
  <script src='../javascript/application.js'></script>
  <script src='../javascript/search.js'></script>
  <link rel='stylesheet' href='../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../extra/README.md.html' title='Tamarind'>
      Tamarind
    </a>
    &raquo;
    <a href='../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>WebGLCanvas</span>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        WebGLCanvas
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>app&#47;classes&#47;WebGLCanvas.coffee</td>
        </tr>
        <tr>
          <td>Inherits:</td>
          <td>
            <a href='../class/EventEmitter.html'>EventEmitter</a>
          </td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <p>An object associated with a canvas element that manages the WebGL context
and associated resources.</p><p>THE RESOURCE MANAGEMENT GRAPH</p><pre><code>       -- VERT
     /         \ CONTEXT -- FRAG -- LINK -- RENDER
     \                 /
       -- GEOM --------
</code></pre><ol>
<li>CONTEXT:  set up WebGL context</li>
<li>VERT:     compile vertex shader</li>
<li>FRAG:     compile fragment shader</li>
<li>LINK:     link program, look up and cache attribute and uniform locations</li>
<li>GEOM:     generate vertex buffer with geometry</li>
<li>RENDER:   set values for uniforms, update viewport dimensions, render scene</li>
</ol><p>When the object is first created, each step is performed in dependency order from context creation
to rendering. Various API methods will invalidate a specific step, requiring that it and all dependent steps
are cleaned up and done again. For example, changing vertexCount will invalidate the GEOM step which
requires uniforms to be set again.</p>
</div>
<div class='tags'>
</div>
      <h2>Property Summary</h2>
      <dl class='properties'>
        <dt id='vertexCount-property'>
          <span class='signature'>
            (int)
            <b>
              vertexCount
            </b>
          </span>
        </dt>
        <dd class='desc'>
          <p>Vertices are created at the origin (coordinate 0,0,0) and are positioned by the vertex shader. The vertex shader gets an attribute a_VertexIndex, being a number between 0 and
<code>vertexCount - 1</code> that it can use to distinguish vertices
The number of vertices drawn.</p>
        </dd>
        <dt id='drawingMode-property'>
          <span class='signature'>
            (String)
            <b>
              drawingMode
            </b>
          </span>
        </dt>
        <dd class='desc'>
          i.e. one of: POINTS, LINES, LINE_LOOP, LINE_STRIP, TRIANGLES, TRIANGLE_STRIP or TRIANGLE_FAN A string mode name as used by WebGL&#39;s drawArrays method

        </dd>
        <dt id='debugMode-property'>
          <span class='signature'>
            (boolean)
            <b>
              debugMode
            </b>
          </span>
        </dt>
        <dd class='desc'>
          <p>requires checking with WebGL for an error after each operation, which is very slow. Don&#39;t use this in production
Whether to log more data, including all WebGL errors. This</p>
        </dd>
      </dl>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='DEFAULT_VSHADER_SOURCE-variable'>
    DEFAULT_VSHADER_SOURCE
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>&#39;attribute float a_VertexIndex;\nvarying vec2 position;\n\nvoid main() {\n  &#47;&#47; this is the default vertex shader. It positions 4 points, one in each corner clockwise from top left, creating a rectangle that fills the whole canvas.\n  if (a_VertexIndex == 0.0) {\n    position = vec2(-1, -1);\n  } else if (a_VertexIndex == 1.0) {\n    position = vec2(1, -1);\n  } else if (a_VertexIndex == 2.0) {\n    position = vec2(1, 1);\n  } else if (a_VertexIndex == 3.0) {\n    position = vec2(-1, 1);\n  } else {\n    position = vec2(0);\n  }\n  gl_Position.xy = position;\n}&#39;</code></pre>
    
  </dd>
  <dt id='DEFAULT_FSHADER_SOURCE-variable'>
    DEFAULT_FSHADER_SOURCE
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>&#39;precision mediump float;\nuniform vec2 u_CanvasSize;\nvarying vec2 position;\n\nvoid main() {\n  gl_FragColor = vec4(position, 1, 1);\n}&#39;</code></pre>
    
  </dd>
  <dt id='COMPILE-variable'>
    COMPILE
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>&#39;compile&#39;</code></pre>
    <div class='docstring'>
  <p>Event name for compilation events. The event argument is a CompileStatus object</p>
</div>
<div class='tags'>
</div>
  </dd>
  <dt id='LINK-variable'>
    LINK
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>&#39;link&#39;</code></pre>
    <div class='docstring'>
  <p>Event name for compilation error events. The event argument is <code>false</code> if there was no error or
an error message if there was an error.</p>
</div>
<div class='tags'>
</div>
  </dd>
</dl>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#_scheduleFrame-dynamic'>
        #
(void)
<b>_scheduleFrame</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_doFrame-dynamic'>
        #
(void)
<b>_doFrame</b><span>()</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_createContext-dynamic'>
        #
(void)
<b>_createContext</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setupContext-dynamic'>
        #
(void)
<b>_setupContext</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_compileShader-dynamic'>
        #
(void)
<b>_compileShader</b><span>(shaderType)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_linkProgram-dynamic'>
        #
(void)
<b>_linkProgram</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_updateGeometry-dynamic'>
        #
(void)
<b>_updateGeometry</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_render-dynamic'>
        #
(void)
<b>_render</b><span>(explicitWidth, explicitHeight)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#captureImage-dynamic'>
        #
(void)
<b>captureImage</b><span>(width, height)</span>
      </a>
    </span>
    <span class='desc'>
      Take a snapshot of the current scene and return it as a PNG encoded data url 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setUniform-dynamic'>
        #
(void)
<b>_setUniform</b><span>(name, args...)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_handleContextLost-dynamic'>
        #
(void)
<b>_handleContextLost</b><span>(e)</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_handleContextRestored-dynamic'>
        #
(void)
<b>_handleContextRestored</b><span>()</span>
      </a>
    </span>
    <span class='bound note title'>Bound</span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#getShaderSource-dynamic'>
        #
(void)
<b>getShaderSource</b><span>(shaderType)</span>
      </a>
    </span>
    <span class='desc'>
      Get the source code for a shader @param shaderType either Tamarind.VERTEX_SHADER or Tamarind.FRAGMENT_SHADER

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#setShaderSource-dynamic'>
        #
(void)
<b>setShaderSource</b><span>(shaderType, value)</span>
      </a>
    </span>
    <span class='desc'>
      <p>Set the source code for a shader @param shaderType either Tamarind.VERTEX_SHADER or Tamarind.FRAGMENT_SHADER
@param value GLSL source code for the shader</p>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_getFragmentShaderSource-dynamic'>
        #
(void)
<b>_getFragmentShaderSource</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setFragmentShaderSource-dynamic'>
        #
(void)
<b>_setFragmentShaderSource</b><span>(value)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_getVertexShaderSource-dynamic'>
        #
(void)
<b>_getVertexShaderSource</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setVertexShaderSource-dynamic'>
        #
(void)
<b>_setVertexShaderSource</b><span>(value)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_getVertexCount-dynamic'>
        #
(void)
<b>_getVertexCount</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setVertexCount-dynamic'>
        #
(void)
<b>_setVertexCount</b><span>(value)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_getDrawingMode-dynamic'>
        #
(void)
<b>_getDrawingMode</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setDrawingMode-dynamic'>
        #
(void)
<b>_setDrawingMode</b><span>(value)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_getDebugMode-dynamic'>
        #
(void)
<b>_getDebugMode</b><span>()</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#_setDebugMode-dynamic'>
        #
(void)
<b>_setDebugMode</b><span>(value)</span>
      </a>
    </span>
    <span class='note private title'>Private</span>
    <span class='desc'>
    </span>
  </li>
</ul>
      <h2>
        <small>Inherited Method Summary</small>
        <h3 class='inherited'>
          Methods inherited from
          <a href='../class/EventEmitter.html'>EventEmitter</a>
        </h3>
        <p class='inherited'>
          <a href='../class/EventEmitter.html#on-dynamic'>#on</a>
          <a href='../class/EventEmitter.html#off-dynamic'>#off</a>
          <a href='../class/EventEmitter.html#emit-dynamic'>#emit</a>
          <a href='../class/EventEmitter.html#_getEventList-dynamic'>#_getEventList</a>
          <a href='../class/EventEmitter.html#_validateEventArgs-dynamic'>#_validateEventArgs</a>
        </p>
      </h2>
      <h2>Constructor Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='constructor-dynamic'>
      #
(void)
<b>constructor</b><span>(canvasElement, debugMode = false)</span>
      <br>
    </p>
    <div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>@@canvasElement</span>
      <span class='type'>
        (
          <tt>HTMLCanvasElement</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the canvas element to render onto </span>
    </li>
    <li>
      <span class='name'>@debugMode</span>
      <span class='type'>
        (
          <tt>boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the initial value of the <code>debugMode</code> property </span>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='_scheduleFrame-dynamic'>
      #
(void)
<b>_scheduleFrame</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_doFrame-dynamic'>
      #
(void)
<b>_doFrame</b><span>()</span>
      <span class='bound note'>Bound</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_createContext-dynamic'>
      #
(void)
<b>_createContext</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setupContext-dynamic'>
      #
(void)
<b>_setupContext</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_compileShader-dynamic'>
      #
(void)
<b>_compileShader</b><span>(shaderType)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_linkProgram-dynamic'>
      #
(void)
<b>_linkProgram</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_updateGeometry-dynamic'>
      #
(void)
<b>_updateGeometry</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_render-dynamic'>
      #
(void)
<b>_render</b><span>(explicitWidth, explicitHeight)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='captureImage-dynamic'>
      #
(void)
<b>captureImage</b><span>(width, height)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Take a snapshot of the current scene and return it as a PNG encoded data url</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>width</span>
      <span class='type'>
        (
          <tt>int</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the width of the rendered image </span>
    </li>
    <li>
      <span class='name'>height</span>
      <span class='type'>
        (
          <tt>int</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the height of the rendered image </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setUniform-dynamic'>
      #
(void)
<b>_setUniform</b><span>(name, args...)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_handleContextLost-dynamic'>
      #
(void)
<b>_handleContextLost</b><span>(e)</span>
      <span class='bound note'>Bound</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_handleContextRestored-dynamic'>
      #
(void)
<b>_handleContextRestored</b><span>()</span>
      <span class='bound note'>Bound</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='getShaderSource-dynamic'>
      #
(void)
<b>getShaderSource</b><span>(shaderType)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Get the source code for a shader
@param shaderType either Tamarind.VERTEX_SHADER or Tamarind.FRAGMENT_SHADER</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='setShaderSource-dynamic'>
      #
(void)
<b>setShaderSource</b><span>(shaderType, value)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Set the source code for a shader
@param shaderType either Tamarind.VERTEX_SHADER or Tamarind.FRAGMENT_SHADER
@param value GLSL source code for the shader</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_getFragmentShaderSource-dynamic'>
      #
(void)
<b>_getFragmentShaderSource</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setFragmentShaderSource-dynamic'>
      #
(void)
<b>_setFragmentShaderSource</b><span>(value)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_getVertexShaderSource-dynamic'>
      #
(void)
<b>_getVertexShaderSource</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setVertexShaderSource-dynamic'>
      #
(void)
<b>_setVertexShaderSource</b><span>(value)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_getVertexCount-dynamic'>
      #
(void)
<b>_getVertexCount</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setVertexCount-dynamic'>
      #
(void)
<b>_setVertexCount</b><span>(value)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_getDrawingMode-dynamic'>
      #
(void)
<b>_getDrawingMode</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setDrawingMode-dynamic'>
      #
(void)
<b>_setDrawingMode</b><span>(value)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_getDebugMode-dynamic'>
      #
(void)
<b>_getDebugMode</b><span>()</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='_setDebugMode-dynamic'>
      #
(void)
<b>_setDebugMode</b><span>(value)</span>
      <span class='note private'>Private</span>
      <br>
    </p>
    <div class='tags'>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  March 17, 15 15:20:11 by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.10
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>